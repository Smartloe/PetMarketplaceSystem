# ğŸ¾ å‰ç¥¥å® ç‰©å•†åŸç³»ç»Ÿ (Pet Marketplace System)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/)
[![Django](https://img.shields.io/badge/Django-5.0.4-green.svg)](https://www.djangoproject.com/)
[![Vue.js](https://img.shields.io/badge/Vue.js-3.4+-4FC08D.svg)](https://vuejs.org/)
[![Element Plus](https://img.shields.io/badge/Element%20Plus-2.7+-409EFF.svg)](https://element-plus.org/)

> ğŸŒŸ ä¸€ä¸ªç°ä»£åŒ–çš„å® ç‰©å•†åŸç³»ç»Ÿï¼Œé›†æˆAIå® ç‰©é¡¾é—®ã€å•†å“ç®¡ç†ã€è®¢å•å¤„ç†ç­‰åŠŸèƒ½ï¼Œä¸ºå® ç‰©çˆ±å¥½è€…æä¾›ä¸€ç«™å¼æœåŠ¡å¹³å°ã€‚

## ğŸ“‹ ç›®å½•

- [âœ¨ é¡¹ç›®ç‰¹è‰²](#-é¡¹ç›®ç‰¹è‰²)
- [ğŸ—ï¸ ç³»ç»Ÿæ¶æ„](#ï¸-ç³»ç»Ÿæ¶æ„)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ“¦ åŠŸèƒ½æ¨¡å—](#-åŠŸèƒ½æ¨¡å—)
- [ğŸ› ï¸ æŠ€æœ¯æ ˆ](#ï¸-æŠ€æœ¯æ ˆ)
- [ğŸ“ é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [ğŸ”§ å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [ğŸ“¸ é¡¹ç›®æˆªå›¾](#-é¡¹ç›®æˆªå›¾)
- [ğŸ¤ è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [ğŸ“„ è®¸å¯è¯](#-è®¸å¯è¯)

## âœ¨ é¡¹ç›®ç‰¹è‰²

### ğŸ¤– AIæ™ºèƒ½é¡¾é—®
- **ä¸“ä¸šå® ç‰©å’¨è¯¢**ï¼šåŸºäºLongCatæ¨¡å‹çš„AIå® ç‰©é¡¾é—®
- **24å°æ—¶åœ¨çº¿**ï¼šéšæ—¶ä¸ºç”¨æˆ·æä¾›å® ç‰©æŠ¤ç†å»ºè®®
- **å¤šå“ç±»è¦†ç›–**ï¼šæ”¯æŒçŒ«ã€ç‹—ç­‰å¤šç§å® ç‰©ç±»å‹
- **æµå¼å¯¹è¯**ï¼šå®æ—¶å“åº”ï¼Œè‡ªç„¶å¯¹è¯ä½“éªŒ

### ğŸ›ï¸ å®Œæ•´å•†åŸåŠŸèƒ½
- **å•†å“ç®¡ç†**ï¼šåˆ†ç±»æµè§ˆã€æœç´¢ã€è¯¦æƒ…å±•ç¤º
- **è´­ç‰©è½¦ç³»ç»Ÿ**ï¼šæ·»åŠ ã€ä¿®æ”¹ã€æ‰¹é‡æ“ä½œ
- **è®¢å•ç®¡ç†**ï¼šä¸‹å•ã€æ”¯ä»˜ã€ç‰©æµè·Ÿè¸ª
- **ç”¨æˆ·ä¸­å¿ƒ**ï¼šä¸ªäººä¿¡æ¯ã€æ”¶è—ã€å†å²è®°å½•

### ğŸ¨ ç°ä»£åŒ–UIè®¾è®¡
- **ç»Ÿä¸€è®¾è®¡ç³»ç»Ÿ**ï¼šæ¸©æš–çš„å® ç‰©ä¸»é¢˜è‰²å½©
- **å“åº”å¼å¸ƒå±€**ï¼šå®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨ç«¯
- **æµç•…åŠ¨ç”»**ï¼šä¼˜é›…çš„äº¤äº’ä½“éªŒ
- **ç»ç’ƒæ‹Ÿæ€æ•ˆæœ**ï¼šç°ä»£åŒ–è§†è§‰è®¾è®¡

### ğŸ” å®‰å…¨å¯é 
- **JWTè®¤è¯**ï¼šå®‰å…¨çš„ç”¨æˆ·èº«ä»½éªŒè¯
- **æƒé™æ§åˆ¶**ï¼šç»†ç²’åº¦çš„è®¿é—®æƒé™ç®¡ç†
- **æ•°æ®åŠ å¯†**ï¼šæ•æ„Ÿä¿¡æ¯å®‰å…¨å­˜å‚¨
- **CORSé…ç½®**ï¼šè·¨åŸŸè¯·æ±‚å®‰å…¨å¤„ç†

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```mermaid
graph TB
    subgraph "å‰ç«¯å±‚ (Frontend)"
        A[Vue.js 3 + Element Plus]
        B[Vuex çŠ¶æ€ç®¡ç†]
        C[Vue Router è·¯ç”±]
        D[Axios HTTPå®¢æˆ·ç«¯]
    end
    
    subgraph "åç«¯å±‚ (Backend)"
        E[Django 5.0.4]
        F[Django REST Framework]
        G[JWTè®¤è¯]
        H[CORSå¤„ç†]
    end
    
    subgraph "æ•°æ®å±‚ (Database)"
        I[MySQL æ•°æ®åº“]
        J[åª’ä½“æ–‡ä»¶å­˜å‚¨]
    end
    
    subgraph "AIæœåŠ¡ (AI Service)"
        K[LongCat AIæ¨¡å‹]
        L[æµå¼å¯¹è¯å¤„ç†]
    end
    
    A --> E
    B --> D
    C --> D
    D --> F
    F --> G
    F --> H
    E --> I
    E --> J
    E --> K
    K --> L
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **Python**: 3.10+
- **Node.js**: 16.0+
- **MySQL**: 8.0+
- **Git**: æœ€æ–°ç‰ˆæœ¬

### ğŸ”§ å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/Smartloe/PetMarketplaceSystem.git
cd PetMarketplaceSystem
```

#### 2. åç«¯è®¾ç½®

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backstage/pet_shop

# å®‰è£…uvåŒ…ç®¡ç†å™¨ (æ¨è)
pip install uv

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–
uv sync

# æˆ–ä½¿ç”¨ä¼ ç»Ÿæ–¹å¼
pip install -r requirements.txt

# é…ç½®æ•°æ®åº“
# 1. åˆ›å»ºMySQLæ•°æ®åº“ 'pet_shop'
# 2. ä¿®æ”¹ .env æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®

# è¿è¡Œæ•°æ®åº“è¿ç§»
uv run python manage.py migrate

# åˆ›å»ºè¶…çº§ç”¨æˆ·
uv run python manage.py createsuperuser

# å¯åŠ¨åç«¯æœåŠ¡
uv run python manage.py runserver 0.0.0.0:8010
```

#### 3. å‰ç«¯è®¾ç½®

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontstage/pet_shop

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run serve
```

#### 4. è®¿é—®åº”ç”¨

- **å‰ç«¯åº”ç”¨**: http://localhost:8011
- **åç«¯API**: http://localhost:8010
- **ç®¡ç†åå°**: http://localhost:8010/admin

## ğŸ“¦ åŠŸèƒ½æ¨¡å—

### ğŸ  å‰å°åŠŸèƒ½

| æ¨¡å— | åŠŸèƒ½æè¿° | çŠ¶æ€ |
|------|----------|------|
| **é¦–é¡µ** | è½®æ’­å›¾å±•ç¤ºã€å•†å“æ¨èã€ç‰¹è‰²æœåŠ¡ | âœ… å®Œæˆ |
| **AIé¡¾é—®** | æ™ºèƒ½å® ç‰©å’¨è¯¢ã€æµå¼å¯¹è¯ã€ä¸“ä¸šå»ºè®® | âœ… å®Œæˆ |
| **å•†å“æµè§ˆ** | åˆ†ç±»å±•ç¤ºã€æœç´¢ç­›é€‰ã€è¯¦æƒ…æŸ¥çœ‹ | âœ… å®Œæˆ |
| **è´­ç‰©è½¦** | å•†å“æ·»åŠ ã€æ•°é‡ä¿®æ”¹ã€æ‰¹é‡æ“ä½œ | âœ… å®Œæˆ |
| **è®¢å•ç®¡ç†** | ä¸‹å•æµç¨‹ã€æ”¯ä»˜é›†æˆã€çŠ¶æ€è·Ÿè¸ª | âœ… å®Œæˆ |
| **ç”¨æˆ·ä¸­å¿ƒ** | ä¸ªäººä¿¡æ¯ã€æ”¶è—ç®¡ç†ã€å†å²è®°å½• | âœ… å®Œæˆ |
| **ç•™è¨€ç³»ç»Ÿ** | ç”¨æˆ·åé¦ˆã€å®¢æœå›å¤ã€å›¾ç‰‡ä¸Šä¼  | âœ… å®Œæˆ |

### ğŸ”§ åå°åŠŸèƒ½

| æ¨¡å— | åŠŸèƒ½æè¿° | çŠ¶æ€ |
|------|----------|------|
| **ç”¨æˆ·ç®¡ç†** | ç”¨æˆ·ä¿¡æ¯ã€æƒé™åˆ†é…ã€çŠ¶æ€ç®¡ç† | âœ… å®Œæˆ |
| **å•†å“ç®¡ç†** | å•†å“CRUDã€åˆ†ç±»ç®¡ç†ã€åº“å­˜æ§åˆ¶ | âœ… å®Œæˆ |
| **è®¢å•ç®¡ç†** | è®¢å•å¤„ç†ã€çŠ¶æ€æ›´æ–°ã€é€€æ¬¾ç®¡ç† | âœ… å®Œæˆ |
| **æ•°æ®ç»Ÿè®¡** | é”€å”®æŠ¥è¡¨ã€ç”¨æˆ·åˆ†æã€å›¾è¡¨å±•ç¤º | âœ… å®Œæˆ |
| **ç³»ç»Ÿè®¾ç½®** | åŸºç¡€é…ç½®ã€æ”¯ä»˜è®¾ç½®ã€é‚®ä»¶é…ç½® | âœ… å®Œæˆ |

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: Vue.js 3.4+ (Composition API)
- **UIåº“**: Element Plus 2.7+
- **çŠ¶æ€ç®¡ç†**: Vuex 4.1+
- **è·¯ç”±**: Vue Router 4.3+
- **HTTPå®¢æˆ·ç«¯**: Axios 1.6+
- **æ„å»ºå·¥å…·**: Vue CLI 5.0+
- **æ ·å¼**: SCSS + CSSå˜é‡
- **å›¾æ ‡**: Element Plus Icons

### åç«¯æŠ€æœ¯
- **æ¡†æ¶**: Django 5.0.4
- **API**: Django REST Framework 3.15+
- **è®¤è¯**: JWT (djangorestframework-simplejwt)
- **æ•°æ®åº“**: MySQL 8.0+ (PyMySQL)
- **è·¨åŸŸ**: django-cors-headers
- **æ–‡æ¡£**: drf-yasg (Swagger)
- **ç®¡ç†ç•Œé¢**: SimpleUI
- **åŒ…ç®¡ç†**: UV (æ¨è) / Pip

### å¼€å‘å·¥å…·
- **ç‰ˆæœ¬æ§åˆ¶**: Git
- **ä»£ç è§„èŒƒ**: ESLint + Prettier
- **ç±»å‹æ£€æŸ¥**: Pyright (Python)
- **APIæµ‹è¯•**: Postman / Swagger UI
- **æ•°æ®åº“å·¥å…·**: MySQL Workbench

## ğŸ“ é¡¹ç›®ç»“æ„

```
PetMarketplaceSystem/
â”œâ”€â”€ ğŸ“ backstage/                 # åç«¯ä»£ç 
â”‚   â””â”€â”€ ğŸ“ pet_shop/
â”‚       â”œâ”€â”€ ğŸ“ accounts/          # ç”¨æˆ·è´¦æˆ·æ¨¡å—
â”‚       â”œâ”€â”€ ğŸ“ commodity/         # å•†å“ç®¡ç†æ¨¡å—
â”‚       â”œâ”€â”€ ğŸ“ customer_operation/# ç”¨æˆ·æ“ä½œæ¨¡å—
â”‚       â”œâ”€â”€ ğŸ“ trade/            # äº¤æ˜“è®¢å•æ¨¡å—
â”‚       â”œâ”€â”€ ğŸ“ merchant/         # å•†å®¶ç®¡ç†æ¨¡å—
â”‚       â”œâ”€â”€ ğŸ“ charts/           # æ•°æ®å›¾è¡¨æ¨¡å—
â”‚       â”œâ”€â”€ ğŸ“ index/            # é¦–é¡µæ¥å£æ¨¡å—
â”‚       â”œâ”€â”€ ğŸ“ media/            # åª’ä½“æ–‡ä»¶å­˜å‚¨
â”‚       â”œâ”€â”€ ğŸ“ static/           # é™æ€æ–‡ä»¶
â”‚       â”œâ”€â”€ ğŸ“„ manage.py         # Djangoç®¡ç†è„šæœ¬
â”‚       â”œâ”€â”€ ğŸ“„ pyproject.toml    # Pythoné¡¹ç›®é…ç½®
â”‚       â””â”€â”€ ğŸ“„ .env              # ç¯å¢ƒå˜é‡é…ç½®
â”‚
â”œâ”€â”€ ğŸ“ frontstage/               # å‰ç«¯ä»£ç 
â”‚   â””â”€â”€ ğŸ“ pet_shop/
â”‚       â”œâ”€â”€ ğŸ“ public/           # å…¬å…±èµ„æº
â”‚       â”‚   â”œâ”€â”€ ğŸ“ img/          # å›¾ç‰‡èµ„æº
â”‚       â”‚   â””â”€â”€ ğŸ“„ index.html    # HTMLæ¨¡æ¿
â”‚       â”œâ”€â”€ ğŸ“ src/              # æºä»£ç 
â”‚       â”‚   â”œâ”€â”€ ğŸ“ assets/       # é™æ€èµ„æº
â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ design-system.css # è®¾è®¡ç³»ç»Ÿ
â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ style.css # å…¨å±€æ ·å¼
â”‚       â”‚   â”œâ”€â”€ ğŸ“ components/   # å…¬å…±ç»„ä»¶
â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ Header.vue # å¯¼èˆªæ ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ ğŸ“ views/        # é¡µé¢ç»„ä»¶
â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Home.vue  # é¦–é¡µ
â”‚       â”‚   â”‚   â”œâ”€â”€ ğŸ“„ AIPetExpert.vue # AIé¡¾é—®
â”‚       â”‚   â”‚   â””â”€â”€ ğŸ“„ ...       # å…¶ä»–é¡µé¢
â”‚       â”‚   â”œâ”€â”€ ğŸ“ router/       # è·¯ç”±é…ç½®
â”‚       â”‚   â”œâ”€â”€ ğŸ“ store/        # çŠ¶æ€ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ ğŸ“„ main.js       # åº”ç”¨å…¥å£
â”‚       â”‚   â””â”€â”€ ğŸ“„ App.vue       # æ ¹ç»„ä»¶
â”‚       â”œâ”€â”€ ğŸ“„ package.json      # é¡¹ç›®ä¾èµ–
â”‚       â””â”€â”€ ğŸ“„ vue.config.js     # Vueé…ç½®
â”‚
â”œâ”€â”€ ğŸ“„ README.md                 # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ ğŸ“„ .gitignore               # Gitå¿½ç•¥æ–‡ä»¶
```

## ğŸ”§ å¼€å‘æŒ‡å—

### ğŸŒ ç¯å¢ƒé…ç½®

#### åç«¯ç¯å¢ƒå˜é‡ (.env)
```env
# æ•°æ®åº“é…ç½®
DB_NAME=pet_shop
DB_USER=root
DB_PASSWORD=your_password
DB_HOST=localhost
DB_PORT=3306

# Djangoé…ç½®
SECRET_KEY=your_secret_key
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# AIæœåŠ¡é…ç½®
AI_API_URL=your_ai_service_url
AI_API_KEY=your_ai_api_key
```

### ğŸ”„ å¼€å‘æµç¨‹

#### 1. åç«¯å¼€å‘
```bash
# åˆ›å»ºæ–°çš„Djangoåº”ç”¨
cd backstage/pet_shop
uv run python manage.py startapp your_app_name

# æ•°æ®åº“è¿ç§»
uv run python manage.py makemigrations
uv run python manage.py migrate

# è¿è¡Œæµ‹è¯•
uv run python manage.py test

# æ”¶é›†é™æ€æ–‡ä»¶
uv run python manage.py collectstatic
```

#### 2. å‰ç«¯å¼€å‘
```bash
# å®‰è£…æ–°ä¾èµ–
cd frontstage/pet_shop
npm install package_name

# ä»£ç æ£€æŸ¥
npm run lint

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

### ğŸ“ ä»£ç è§„èŒƒ

#### Python (åç«¯)
- éµå¾ª PEP 8 ä»£ç è§„èŒƒ
- ä½¿ç”¨ç±»å‹æ³¨è§£
- ç¼–å†™æ–‡æ¡£å­—ç¬¦ä¸²
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%

#### JavaScript/Vue (å‰ç«¯)
- ä½¿ç”¨ ESLint + Prettier
- ç»„ä»¶å‘½åé‡‡ç”¨ PascalCase
- æ–‡ä»¶å‘½åé‡‡ç”¨ kebab-case
- ç¼–å†™ç»„ä»¶æ–‡æ¡£

### ğŸ” APIæ–‡æ¡£

è®¿é—® http://localhost:8010/swagger/ æŸ¥çœ‹å®Œæ•´çš„APIæ–‡æ¡£

#### ä¸»è¦APIç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/accounts/` | GET/POST | ç”¨æˆ·ç®¡ç† |
| `/api/commodity/` | GET/POST | å•†å“ç®¡ç† |
| `/api/trade/` | GET/POST | è®¢å•ç®¡ç† |
| `/api/customer-operation/` | GET/POST | ç”¨æˆ·æ“ä½œ |
| `/api/ai-chat/` | POST | AIå¯¹è¯æ¥å£ |

## ğŸ“¸ é¡¹ç›®æˆªå›¾

### ğŸ  é¦–é¡µå±•ç¤º
*ç°ä»£åŒ–çš„é¦–é¡µè®¾è®¡ï¼Œæ¸©æš–çš„å® ç‰©ä¸»é¢˜è‰²å½©*

### ğŸ¤– AIå® ç‰©é¡¾é—®
*æ™ºèƒ½å¯¹è¯ç•Œé¢ï¼Œä¸“ä¸šçš„å® ç‰©å’¨è¯¢æœåŠ¡*

### ğŸ›ï¸ å•†å“æµè§ˆ
*æ¸…æ™°çš„å•†å“å±•ç¤ºï¼Œä¾¿æ·çš„è´­ç‰©ä½“éªŒ*

### ğŸ“± ç§»åŠ¨ç«¯é€‚é…
*å®Œç¾çš„ç§»åŠ¨ç«¯å“åº”å¼è®¾è®¡*

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ğŸ³ Dockeréƒ¨ç½² (æ¨è)

```bash
# æ„å»ºé•œåƒ
docker-compose build

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

### ğŸ–¥ï¸ ä¼ ç»Ÿéƒ¨ç½²

#### åç«¯éƒ¨ç½²
```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®æ•°æ®åº“
python manage.py migrate

# æ”¶é›†é™æ€æ–‡ä»¶
python manage.py collectstatic

# ä½¿ç”¨Gunicornå¯åŠ¨
gunicorn pet_shop.wsgi:application --bind 0.0.0.0:8000
```

#### å‰ç«¯éƒ¨ç½²
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ä½¿ç”¨Nginxæ‰˜ç®¡
# å°†distç›®å½•å†…å®¹å¤åˆ¶åˆ°Nginxç½‘ç«™æ ¹ç›®å½•
```

### ğŸ”§ ç”Ÿäº§ç¯å¢ƒé…ç½®

#### Nginxé…ç½®ç¤ºä¾‹
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /var/www/pet-shop/dist;
        try_files $uri $uri/ /index.html;
    }
    
    # åç«¯API
    location /api/ {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    # åª’ä½“æ–‡ä»¶
    location /media/ {
        alias /var/www/pet-shop/media/;
    }
}
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

### ğŸ”„ è´¡çŒ®æµç¨‹

1. **Fork é¡¹ç›®**
   ```bash
   git clone https://github.com/your-username/PetMarketplaceSystem.git
   ```

2. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   git checkout -b feature/amazing-feature
   ```

3. **æäº¤æ›´æ”¹**
   ```bash
   git commit -m 'Add some amazing feature'
   ```

4. **æ¨é€åˆ†æ”¯**
   ```bash
   git push origin feature/amazing-feature
   ```

5. **åˆ›å»º Pull Request**

### ğŸ“‹ è´¡çŒ®è§„èŒƒ

- æäº¤å‰è¯·è¿è¡Œæµ‹è¯•ç¡®ä¿ä»£ç è´¨é‡
- éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼å’Œè§„èŒƒ
- ä¸ºæ–°åŠŸèƒ½ç¼–å†™ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹
- æ›´æ–°ç›¸å…³æ–‡æ¡£å’ŒREADME

### ğŸ› é—®é¢˜æŠ¥å‘Š

å‘ç°Bugï¼Ÿè¯·åˆ›å»ºIssueå¹¶åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š
- è¯¦ç»†çš„é—®é¢˜æè¿°
- å¤ç°æ­¥éª¤
- æœŸæœ›è¡Œä¸º
- å®é™…è¡Œä¸º
- ç¯å¢ƒä¿¡æ¯ (æ“ä½œç³»ç»Ÿã€æµè§ˆå™¨ç‰ˆæœ¬ç­‰)

## ğŸ“ è”ç³»æˆ‘ä»¬

- **é¡¹ç›®ç»´æŠ¤è€…**: Smartloe
- **GitHub**: https://github.com/Smartloe
- **é¡¹ç›®åœ°å€**: https://github.com/Smartloe/PetMarketplaceSystem

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š
- [Django](https://www.djangoproject.com/) - å¼ºå¤§çš„Python Webæ¡†æ¶
- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼JavaScriptæ¡†æ¶
- [Element Plus](https://element-plus.org/) - ä¼˜ç§€çš„Vue 3ç»„ä»¶åº“
- [MySQL](https://www.mysql.com/) - å¯é çš„å…³ç³»å‹æ•°æ®åº“

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

<div align="center">

**ğŸ¾ ä¸ºæ¯ä¸€ä¸ªæ¯›å­©å­æä¾›æœ€è´´å¿ƒçš„å…³çˆ± ğŸ¾**

Made with â¤ï¸ by [Smartloe](https://github.com/Smartloe)

</div># åŸºäºDjangoçš„å® ç‰©å•†åŸè®¾è®¡ä¸å®ç°

## åç«¯ï¼ˆDjangoï¼‰

æœ¬é¡¹ç›®çš„åç«¯ä¾èµ–ç°åœ¨ç”± [uv](https://github.com/astral-sh/uv) è´Ÿè´£ç®¡ç†ï¼Œå·²åœ¨ `backstage/pet_shop/pyproject.toml` ä¸­å£°æ˜æ‰€æœ‰ç¬¬ä¸‰æ–¹åº“ã€‚å¸¸ç”¨å‘½ä»¤ï¼ˆéœ€åœ¨ `backstage/pet_shop` ç›®å½•ä¸­æ‰§è¡Œï¼‰ï¼š

```bash
# å®‰è£…ä¾èµ–å¹¶åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆ.venvï¼‰
uv sync

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆæ ¹æ®éœ€è¦è®¾ç½®æ•°æ®åº“ç¯å¢ƒå˜é‡ï¼Œè§ä¸‹æ–¹ï¼‰
uv run python manage.py runserver 0.0.0.0:8000

# è¿è¡Œæ•°æ®åº“è¿ç§»
uv run python manage.py migrate
```

### æ•°æ®åº“è¿æ¥ï¼ˆWSL è®¿é—® Windows MySQLï¼‰

åç«¯è¿è¡Œåœ¨ WSLï¼Œè€Œ MySQL ä½äº Windowsï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹äº‹é¡¹ï¼š

1. **å…è®¸ Windows MySQL è¢«å¤–éƒ¨è®¿é—®**
	- åœ¨ `my.ini` / `my.cnf` ä¸­å°† `bind-address` æ”¹ä¸º `0.0.0.0`ï¼Œå¹¶åˆ›å»ºå¯¹å¤–è´¦å·ï¼š
		```sql
		CREATE USER 'root'@'%' IDENTIFIED BY 'ä½ çš„å¯†ç ';
		GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;
		FLUSH PRIVILEGES;
		```
	- Windows é˜²ç«å¢™æ”¾è¡Œ 3306 ç«¯å£ï¼š
		```powershell
		netsh advfirewall firewall add rule name="MySQL 3306" dir=in action=allow protocol=TCP localport=3306
		```
2. **åœ¨ WSL å†…æŒ‡å®šè¿æ¥ä¿¡æ¯**
		- é¡¹ç›®ä¼šè‡ªåŠ¨æ£€æµ‹ WSL ç¯å¢ƒå¹¶ä¼˜å…ˆä½¿ç”¨ `/etc/resolv.conf` ä¸­çš„ `nameserver` IPï¼ˆé€šå¸¸å³ Windows ä¸»æœºï¼‰ï¼Œæ— æ³•è·å–æ—¶åˆ™å›é€€åˆ° `host.docker.internal`ã€‚å¦‚éœ€æ‰‹åŠ¨æŒ‡å®šï¼Œå¯é€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–ï¼š
			```bash
			export MYSQL_HOST=$(grep -m1 nameserver /etc/resolv.conf | awk '{print $2}')
			export MYSQL_PORT=3306
			export MYSQL_DATABASE=pet_shop
			export MYSQL_USER=root
			export MYSQL_PASSWORD=your_password
			uv run python manage.py runserver 0.0.0.0:8000
		```
	- å¦‚æœéœ€è¦é•¿æœŸä¿å­˜ï¼Œå¯å†™å…¥ `backstage/pet_shop/.env` å¹¶åœ¨å‘½ä»¤å‰è¿½åŠ  `UV_ENV_FILE=.env`.
3. **éªŒè¯ WSL â†’ Windows è¿é€šæ€§**
	- å¯ç›´æ¥åœ¨ WSL ä¸­æµ‹è¯•ï¼š
			```bash
			mysql -h "$MYSQL_HOST" -u "$MYSQL_USER" -p"$MYSQL_PASSWORD" -P "$MYSQL_PORT"
			```
		- è‹¥è¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ Windows MySQL æ˜¯å¦å¼€æ”¾è¿œç¨‹è®¿é—®ä»¥åŠ IP/é˜²ç«å¢™é…ç½®ã€‚

### AI å® ç‰©é¡¾é—®ï¼ˆLongCat APIï¼‰

åå°æš´éœ²äº† `/ai/consult/` æ¥å£æ¥ä»£ç†ç¬¬ä¸‰æ–¹ AI èƒ½åŠ›ï¼Œæ‰€æœ‰å¯†é’¥ä»…åœ¨æœåŠ¡ç«¯é…ç½®ï¼š

```bash
export LONGCAT_API_KEY="åœ¨ LongCat æ§åˆ¶å°è·å–çš„ key"
# å¯é€‰ï¼šè¦†ç›–é»˜è®¤æ¨¡å‹æˆ–æ¥å£
export LONGCAT_MODEL="LongCat-Flash-Chat"
export LONGCAT_API_URL="https://api.longcat.chat/openai/v1/chat/completions"

UV_CACHE_DIR=/tmp/uv-cache uv run python manage.py runserver 0.0.0.0:8000
```

å‰ç«¯ä¼šè°ƒç”¨ `http://localhost:8010/api/ai/consult/`ï¼Œæ— é¡»æš´éœ²çœŸå® keyã€‚

### å•†å“é¢„è§ˆé™åˆ¶

æœªç™»å½•ç”¨æˆ·åªèƒ½æµè§ˆéƒ¨åˆ†å•†å“ï¼Œç™»å½•åæ‰èƒ½æŸ¥çœ‹å…¨éƒ¨ã€‚å¯é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶æœªç™»å½•æ—¶çš„å¯è§æ•°é‡ï¼š

```bash
export COMMODITY_PREVIEW_LIMIT=6  # é»˜è®¤ 6 æ¡
```

### æ”¶è´§åœ°å€ä¸ä¼ªæ”¯ä»˜

- åç«¯åŸºäº `backstage/pet_shop/data/china-regions.json` å†…ç½®çš„çœå¸‚æ•°æ®å¯¹æ”¶è´§åœ°å€è¿›è¡Œæ ¡éªŒï¼Œå¹¶é€šè¿‡ `/operation/regions/` æš´éœ²çº§è”æ•°æ®ï¼Œå‰ç«¯â€œç”¨æˆ·ä¸­å¿ƒâ€ä¸­çš„æ–°å¢/ç¼–è¾‘åœ°å€å¼¹çª—ä¼šå¼ºåˆ¶é€‰æ‹©åˆæ³•çš„çœå¸‚ã€‚
- `/trade/checkout/` æä¾›â€œä¼ªæ”¯ä»˜â€ä¸‹å•é€»è¾‘ï¼šå‰ç«¯åœ¨è´­ç‰©è½¦ä¸­å‹¾é€‰å•†å“ã€é€‰æ‹©æ”¶è´§åœ°å€å’Œæ”¯ä»˜æ–¹å¼åè°ƒç”¨æ­¤æ¥å£å³å¯ç”Ÿæˆè®¢å•ï¼ŒåŒæ—¶ä¼šæ¸…ç©ºå·²ç»“ç®—çš„è´­ç‰©è½¦è®°å½•ã€‚

## å‰ç«¯ï¼ˆVue 3 + Vue CLIï¼‰

```bash
cd frontstage/pet_shop
npm install
npm run serve   # é»˜è®¤ç«¯å£ 8080
```

å‰ç«¯é»˜è®¤ä¸åç«¯é€šè¿‡ `http://localhost:8010` / `http://localhost:8000` ç­‰æœ¬åœ°åœ°å€äº¤äº’ï¼Œå¦‚éœ€ä¿®æ”¹è¯·ç›¸åº”æ›´æ–°é…ç½®ã€‚
